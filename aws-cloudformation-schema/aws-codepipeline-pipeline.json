{
  "typeName" : "AWS::CodePipeline::Pipeline",
  "description" : "Resource Type definition for AWS::CodePipeline::Pipeline",
  "additionalProperties" : false,
  "properties" : {
    "ArtifactStores" : {
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/ArtifactStoreMap"
      }
    },
    "DisableInboundStageTransitions" : {
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/StageTransition"
      }
    },
    "Stages" : {
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/StageDeclaration"
      }
    },
    "RestartExecutionOnUpdate" : {
      "type" : "boolean"
    },
    "Triggers" : {
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/PipelineTriggerDeclaration"
      }
    },
    "RoleArn" : {
      "type" : "string"
    },
    "Name" : {
      "type" : "string"
    },
    "Variables" : {
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/VariableDeclaration"
      }
    },
    "Version" : {
      "type" : "string"
    },
    "ArtifactStore" : {
      "$ref" : "#/definitions/ArtifactStore"
    },
    "PipelineType" : {
      "type" : "string"
    },
    "Id" : {
      "type" : "string"
    },
    "Tags" : {
      "type" : "array",
      "uniqueItems" : false,
      "items" : {
        "$ref" : "#/definitions/Tag"
      }
    }
  },
  "definitions" : {
    "BlockerDeclaration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Type" : {
          "type" : "string"
        },
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "Type", "Name" ]
    },
    "GitConfiguration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Push" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/GitPushFilter"
          }
        },
        "SourceActionName" : {
          "type" : "string"
        }
      },
      "required" : [ "SourceActionName" ]
    },
    "ActionTypeId" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Owner" : {
          "type" : "string"
        },
        "Category" : {
          "type" : "string"
        },
        "Version" : {
          "type" : "string"
        },
        "Provider" : {
          "type" : "string"
        }
      },
      "required" : [ "Owner", "Category", "Version", "Provider" ]
    },
    "ArtifactStoreMap" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "ArtifactStore" : {
          "$ref" : "#/definitions/ArtifactStore"
        },
        "Region" : {
          "type" : "string"
        }
      },
      "required" : [ "ArtifactStore", "Region" ]
    },
    "PipelineTriggerDeclaration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "GitConfiguration" : {
          "$ref" : "#/definitions/GitConfiguration"
        },
        "ProviderType" : {
          "type" : "string"
        }
      },
      "required" : [ "ProviderType" ]
    },
    "EncryptionKey" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Type" : {
          "type" : "string"
        },
        "Id" : {
          "type" : "string"
        }
      },
      "required" : [ "Type", "Id" ]
    },
    "GitPushFilter" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Tags" : {
          "$ref" : "#/definitions/GitTagFilterCriteria"
        }
      }
    },
    "ActionDeclaration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "ActionTypeId" : {
          "$ref" : "#/definitions/ActionTypeId"
        },
        "Configuration" : {
          "type" : "object"
        },
        "InputArtifacts" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/InputArtifact"
          }
        },
        "OutputArtifacts" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/OutputArtifact"
          }
        },
        "Region" : {
          "type" : "string"
        },
        "Namespace" : {
          "type" : "string"
        },
        "RoleArn" : {
          "type" : "string"
        },
        "RunOrder" : {
          "type" : "integer"
        },
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "ActionTypeId", "Name" ]
    },
    "StageDeclaration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Blockers" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/BlockerDeclaration"
          }
        },
        "Actions" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/ActionDeclaration"
          }
        },
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "Actions", "Name" ]
    },
    "InputArtifact" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "Name" ]
    },
    "ArtifactStore" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Type" : {
          "type" : "string"
        },
        "EncryptionKey" : {
          "$ref" : "#/definitions/EncryptionKey"
        },
        "Location" : {
          "type" : "string"
        }
      },
      "required" : [ "Type", "Location" ]
    },
    "VariableDeclaration" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "DefaultValue" : {
          "type" : "string"
        },
        "Description" : {
          "type" : "string"
        },
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "Name" ]
    },
    "StageTransition" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "StageName" : {
          "type" : "string"
        },
        "Reason" : {
          "type" : "string"
        }
      },
      "required" : [ "StageName", "Reason" ]
    },
    "GitTagFilterCriteria" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Includes" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "type" : "string"
          }
        },
        "Excludes" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "type" : "string"
          }
        }
      }
    },
    "Tag" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Value" : {
          "type" : "string"
        },
        "Key" : {
          "type" : "string"
        }
      },
      "required" : [ "Value", "Key" ]
    },
    "OutputArtifact" : {
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Name" : {
          "type" : "string"
        }
      },
      "required" : [ "Name" ]
    }
  },
  "required" : [ "Stages", "RoleArn" ],
  "createOnlyProperties" : [ "/properties/Name" ],
  "primaryIdentifier" : [ "/properties/Id" ],
  "readOnlyProperties" : [ "/properties/Id", "/properties/Version" ]
}