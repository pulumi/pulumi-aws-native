// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as enums from "../types/enums";
import * as utilities from "../utilities";

/**
 * Resource Type definition for AWS::SageMaker::Cluster
 */
export class Cluster extends pulumi.CustomResource {
    /**
     * Get an existing Cluster resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, opts?: pulumi.CustomResourceOptions): Cluster {
        return new Cluster(name, undefined as any, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'aws-native:sagemaker:Cluster';

    /**
     * Returns true if the given object is an instance of Cluster.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Cluster {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Cluster.__pulumiType;
    }

    /**
     * The Amazon Resource Name (ARN) of the HyperPod Cluster.
     */
    public /*out*/ readonly clusterArn!: pulumi.Output<string>;
    /**
     * The name of the HyperPod Cluster.
     */
    public readonly clusterName!: pulumi.Output<string | undefined>;
    /**
     * The status of the HyperPod Cluster.
     */
    public /*out*/ readonly clusterStatus!: pulumi.Output<enums.sagemaker.ClusterStatus>;
    /**
     * The time at which the HyperPod cluster was created.
     */
    public /*out*/ readonly creationTime!: pulumi.Output<string>;
    /**
     * The failure message of the HyperPod Cluster.
     */
    public /*out*/ readonly failureMessage!: pulumi.Output<string>;
    public readonly instanceGroups!: pulumi.Output<outputs.sagemaker.ClusterInstanceGroup[]>;
    /**
     * If node auto-recovery is set to true, faulty nodes will be replaced or rebooted when a failure is detected. If set to false, nodes will be labelled when a fault is detected.
     */
    public readonly nodeRecovery!: pulumi.Output<enums.sagemaker.ClusterNodeRecovery | undefined>;
    public readonly orchestrator!: pulumi.Output<outputs.sagemaker.ClusterOrchestrator | undefined>;
    /**
     * Custom tags for managing the SageMaker HyperPod cluster as an AWS resource. You can add tags to your cluster in the same way you add them in other AWS services that support tagging.
     */
    public readonly tags!: pulumi.Output<outputs.Tag[] | undefined>;
    public readonly vpcConfig!: pulumi.Output<outputs.sagemaker.ClusterVpcConfig | undefined>;

    /**
     * Create a Cluster resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ClusterArgs, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (!opts.id) {
            if ((!args || args.instanceGroups === undefined) && !opts.urn) {
                throw new Error("Missing required property 'instanceGroups'");
            }
            resourceInputs["clusterName"] = args ? args.clusterName : undefined;
            resourceInputs["instanceGroups"] = args ? args.instanceGroups : undefined;
            resourceInputs["nodeRecovery"] = args ? args.nodeRecovery : undefined;
            resourceInputs["orchestrator"] = args ? args.orchestrator : undefined;
            resourceInputs["tags"] = args ? args.tags : undefined;
            resourceInputs["vpcConfig"] = args ? args.vpcConfig : undefined;
            resourceInputs["clusterArn"] = undefined /*out*/;
            resourceInputs["clusterStatus"] = undefined /*out*/;
            resourceInputs["creationTime"] = undefined /*out*/;
            resourceInputs["failureMessage"] = undefined /*out*/;
        } else {
            resourceInputs["clusterArn"] = undefined /*out*/;
            resourceInputs["clusterName"] = undefined /*out*/;
            resourceInputs["clusterStatus"] = undefined /*out*/;
            resourceInputs["creationTime"] = undefined /*out*/;
            resourceInputs["failureMessage"] = undefined /*out*/;
            resourceInputs["instanceGroups"] = undefined /*out*/;
            resourceInputs["nodeRecovery"] = undefined /*out*/;
            resourceInputs["orchestrator"] = undefined /*out*/;
            resourceInputs["tags"] = undefined /*out*/;
            resourceInputs["vpcConfig"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const replaceOnChanges = { replaceOnChanges: ["clusterName", "instanceGroups[*].executionRole", "instanceGroups[*].instanceGroupName", "instanceGroups[*].instanceType", "instanceGroups[*].threadsPerCore", "orchestrator", "vpcConfig"] };
        opts = pulumi.mergeOptions(opts, replaceOnChanges);
        super(Cluster.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * The set of arguments for constructing a Cluster resource.
 */
export interface ClusterArgs {
    /**
     * The name of the HyperPod Cluster.
     */
    clusterName?: pulumi.Input<string>;
    instanceGroups: pulumi.Input<pulumi.Input<inputs.sagemaker.ClusterInstanceGroupArgs>[]>;
    /**
     * If node auto-recovery is set to true, faulty nodes will be replaced or rebooted when a failure is detected. If set to false, nodes will be labelled when a fault is detected.
     */
    nodeRecovery?: pulumi.Input<enums.sagemaker.ClusterNodeRecovery>;
    orchestrator?: pulumi.Input<inputs.sagemaker.ClusterOrchestratorArgs>;
    /**
     * Custom tags for managing the SageMaker HyperPod cluster as an AWS resource. You can add tags to your cluster in the same way you add them in other AWS services that support tagging.
     */
    tags?: pulumi.Input<pulumi.Input<inputs.TagArgs>[]>;
    vpcConfig?: pulumi.Input<inputs.sagemaker.ClusterVpcConfigArgs>;
}
