// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ssm

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource Type definition for AWS::SSM::MaintenanceWindowTask
//
// ## Example Usage
// ### Example
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/ssm"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := ssm.NewMaintenanceWindowTask(ctx, "lambdaTask", &ssm.MaintenanceWindowTaskArgs{
//				WindowId:       pulumi.String("mw-04fd6f19dfEXAMPLE"),
//				TaskArn:        pulumi.String("arn:aws:lambda:us-east-2:111222333444:function:MyLambdaTaskArn"),
//				ServiceRoleArn: pulumi.String("arn:aws:iam::111222333444:role/aws-service-role/ssm.amazonaws.com/AWSServiceRoleForAmazonSSM"),
//				TaskType:       pulumi.String("LAMBDA"),
//				TaskInvocationParameters: &ssm.MaintenanceWindowTaskTaskInvocationParametersArgs{
//					MaintenanceWindowLambdaParameters: &ssm.MaintenanceWindowTaskMaintenanceWindowLambdaParametersArgs{
//						ClientContext: pulumi.String("eyJ0ZXN0Q29udGV4dCI6Ik5vdGhp==trucated==EXAMPLE"),
//						Qualifier:     pulumi.String("$LATEST"),
//						Payload:       pulumi.String("eyJJbnN0YW5jZUlkIjoie3tSRVNPVVJDRV9JRH19IiwidGFyZ2V0VHlwZSI6Int7VEFSR0VUX1RZUEV9fSJ9"),
//					},
//				},
//				Priority: pulumi.Int(1),
//				Name:     pulumi.String("UpdateLambdaTaskEXAMPLE"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// ### Example
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/ssm"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := ssm.NewMaintenanceWindowTask(ctx, "lambdaTask", &ssm.MaintenanceWindowTaskArgs{
//				WindowId:       pulumi.String("mw-04fd6f19dfEXAMPLE"),
//				TaskArn:        pulumi.String("arn:aws:lambda:us-east-2:111222333444:function:MyLambdaTaskArn"),
//				ServiceRoleArn: pulumi.String("arn:aws:iam::111222333444:role/aws-service-role/ssm.amazonaws.com/AWSServiceRoleForAmazonSSM"),
//				TaskType:       pulumi.String("LAMBDA"),
//				TaskInvocationParameters: &ssm.MaintenanceWindowTaskTaskInvocationParametersArgs{
//					MaintenanceWindowLambdaParameters: &ssm.MaintenanceWindowTaskMaintenanceWindowLambdaParametersArgs{
//						ClientContext: pulumi.String("eyJ0ZXN0Q29udGV4dCI6Ik5vdGhp==trucated==EXAMPLE"),
//						Qualifier:     pulumi.String("$LATEST"),
//						Payload:       pulumi.String("eyJJbnN0YW5jZUlkIjoie3tSRVNPVVJDRV9JRH19IiwidGFyZ2V0VHlwZSI6Int7VEFSR0VUX1RZUEV9fSJ9"),
//					},
//				},
//				Priority: pulumi.Int(1),
//				Name:     pulumi.String("UpdateLambdaTaskEXAMPLE"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type MaintenanceWindowTask struct {
	pulumi.CustomResourceState

	// The specification for whether tasks should continue to run after the cutoff time specified in the maintenance windows is reached.
	CutoffBehavior pulumi.StringPtrOutput `pulumi:"cutoffBehavior"`
	// A description of the task.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Information about an Amazon S3 bucket to write Run Command task-level logs to.
	LoggingInfo MaintenanceWindowTaskLoggingInfoPtrOutput `pulumi:"loggingInfo"`
	// The maximum number of targets this task can be run for, in parallel.
	MaxConcurrency pulumi.StringPtrOutput `pulumi:"maxConcurrency"`
	// The maximum number of errors allowed before this task stops being scheduled.
	MaxErrors pulumi.StringPtrOutput `pulumi:"maxErrors"`
	// The task name.
	Name pulumi.StringPtrOutput `pulumi:"name"`
	// The priority of the task in the maintenance window. The lower the number, the higher the priority. Tasks that have the same priority are scheduled in parallel.
	Priority pulumi.IntOutput `pulumi:"priority"`
	// The Amazon Resource Name (ARN) of the IAM service role for AWS Systems Manager to assume when running a maintenance window task.
	ServiceRoleArn pulumi.StringPtrOutput `pulumi:"serviceRoleArn"`
	// The targets (either instances or window target ids).
	Targets MaintenanceWindowTaskTargetArrayOutput `pulumi:"targets"`
	// The resource that the task uses during execution.
	TaskArn pulumi.StringOutput `pulumi:"taskArn"`
	// The parameters to pass to the task when it runs. Populate only the fields that match the task type. All other fields should be empty.
	TaskInvocationParameters MaintenanceWindowTaskTaskInvocationParametersPtrOutput `pulumi:"taskInvocationParameters"`
	// The parameters to pass to the task when it runs.
	//
	// Search the [CloudFormation User Guide](https://docs.aws.amazon.com/cloudformation/) for `AWS::SSM::MaintenanceWindowTask` for more information about the expected schema for this property.
	TaskParameters pulumi.AnyOutput `pulumi:"taskParameters"`
	// The type of task.
	TaskType pulumi.StringOutput `pulumi:"taskType"`
	// The ID of the maintenance window where the task is registered.
	WindowId pulumi.StringOutput `pulumi:"windowId"`
	// Unique identifier of the maintenance window task.
	WindowTaskId pulumi.StringOutput `pulumi:"windowTaskId"`
}

// NewMaintenanceWindowTask registers a new resource with the given unique name, arguments, and options.
func NewMaintenanceWindowTask(ctx *pulumi.Context,
	name string, args *MaintenanceWindowTaskArgs, opts ...pulumi.ResourceOption) (*MaintenanceWindowTask, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Priority == nil {
		return nil, errors.New("invalid value for required argument 'Priority'")
	}
	if args.TaskArn == nil {
		return nil, errors.New("invalid value for required argument 'TaskArn'")
	}
	if args.TaskType == nil {
		return nil, errors.New("invalid value for required argument 'TaskType'")
	}
	if args.WindowId == nil {
		return nil, errors.New("invalid value for required argument 'WindowId'")
	}
	replaceOnChanges := pulumi.ReplaceOnChanges([]string{
		"taskType",
		"windowId",
	})
	opts = append(opts, replaceOnChanges)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource MaintenanceWindowTask
	err := ctx.RegisterResource("aws-native:ssm:MaintenanceWindowTask", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetMaintenanceWindowTask gets an existing MaintenanceWindowTask resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetMaintenanceWindowTask(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *MaintenanceWindowTaskState, opts ...pulumi.ResourceOption) (*MaintenanceWindowTask, error) {
	var resource MaintenanceWindowTask
	err := ctx.ReadResource("aws-native:ssm:MaintenanceWindowTask", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering MaintenanceWindowTask resources.
type maintenanceWindowTaskState struct {
}

type MaintenanceWindowTaskState struct {
}

func (MaintenanceWindowTaskState) ElementType() reflect.Type {
	return reflect.TypeOf((*maintenanceWindowTaskState)(nil)).Elem()
}

type maintenanceWindowTaskArgs struct {
	// The specification for whether tasks should continue to run after the cutoff time specified in the maintenance windows is reached.
	CutoffBehavior *string `pulumi:"cutoffBehavior"`
	// A description of the task.
	Description *string `pulumi:"description"`
	// Information about an Amazon S3 bucket to write Run Command task-level logs to.
	LoggingInfo *MaintenanceWindowTaskLoggingInfo `pulumi:"loggingInfo"`
	// The maximum number of targets this task can be run for, in parallel.
	MaxConcurrency *string `pulumi:"maxConcurrency"`
	// The maximum number of errors allowed before this task stops being scheduled.
	MaxErrors *string `pulumi:"maxErrors"`
	// The task name.
	Name *string `pulumi:"name"`
	// The priority of the task in the maintenance window. The lower the number, the higher the priority. Tasks that have the same priority are scheduled in parallel.
	Priority int `pulumi:"priority"`
	// The Amazon Resource Name (ARN) of the IAM service role for AWS Systems Manager to assume when running a maintenance window task.
	ServiceRoleArn *string `pulumi:"serviceRoleArn"`
	// The targets (either instances or window target ids).
	Targets []MaintenanceWindowTaskTarget `pulumi:"targets"`
	// The resource that the task uses during execution.
	TaskArn string `pulumi:"taskArn"`
	// The parameters to pass to the task when it runs. Populate only the fields that match the task type. All other fields should be empty.
	TaskInvocationParameters *MaintenanceWindowTaskTaskInvocationParameters `pulumi:"taskInvocationParameters"`
	// The parameters to pass to the task when it runs.
	//
	// Search the [CloudFormation User Guide](https://docs.aws.amazon.com/cloudformation/) for `AWS::SSM::MaintenanceWindowTask` for more information about the expected schema for this property.
	TaskParameters interface{} `pulumi:"taskParameters"`
	// The type of task.
	TaskType string `pulumi:"taskType"`
	// The ID of the maintenance window where the task is registered.
	WindowId string `pulumi:"windowId"`
}

// The set of arguments for constructing a MaintenanceWindowTask resource.
type MaintenanceWindowTaskArgs struct {
	// The specification for whether tasks should continue to run after the cutoff time specified in the maintenance windows is reached.
	CutoffBehavior pulumi.StringPtrInput
	// A description of the task.
	Description pulumi.StringPtrInput
	// Information about an Amazon S3 bucket to write Run Command task-level logs to.
	LoggingInfo MaintenanceWindowTaskLoggingInfoPtrInput
	// The maximum number of targets this task can be run for, in parallel.
	MaxConcurrency pulumi.StringPtrInput
	// The maximum number of errors allowed before this task stops being scheduled.
	MaxErrors pulumi.StringPtrInput
	// The task name.
	Name pulumi.StringPtrInput
	// The priority of the task in the maintenance window. The lower the number, the higher the priority. Tasks that have the same priority are scheduled in parallel.
	Priority pulumi.IntInput
	// The Amazon Resource Name (ARN) of the IAM service role for AWS Systems Manager to assume when running a maintenance window task.
	ServiceRoleArn pulumi.StringPtrInput
	// The targets (either instances or window target ids).
	Targets MaintenanceWindowTaskTargetArrayInput
	// The resource that the task uses during execution.
	TaskArn pulumi.StringInput
	// The parameters to pass to the task when it runs. Populate only the fields that match the task type. All other fields should be empty.
	TaskInvocationParameters MaintenanceWindowTaskTaskInvocationParametersPtrInput
	// The parameters to pass to the task when it runs.
	//
	// Search the [CloudFormation User Guide](https://docs.aws.amazon.com/cloudformation/) for `AWS::SSM::MaintenanceWindowTask` for more information about the expected schema for this property.
	TaskParameters pulumi.Input
	// The type of task.
	TaskType pulumi.StringInput
	// The ID of the maintenance window where the task is registered.
	WindowId pulumi.StringInput
}

func (MaintenanceWindowTaskArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*maintenanceWindowTaskArgs)(nil)).Elem()
}

type MaintenanceWindowTaskInput interface {
	pulumi.Input

	ToMaintenanceWindowTaskOutput() MaintenanceWindowTaskOutput
	ToMaintenanceWindowTaskOutputWithContext(ctx context.Context) MaintenanceWindowTaskOutput
}

func (*MaintenanceWindowTask) ElementType() reflect.Type {
	return reflect.TypeOf((**MaintenanceWindowTask)(nil)).Elem()
}

func (i *MaintenanceWindowTask) ToMaintenanceWindowTaskOutput() MaintenanceWindowTaskOutput {
	return i.ToMaintenanceWindowTaskOutputWithContext(context.Background())
}

func (i *MaintenanceWindowTask) ToMaintenanceWindowTaskOutputWithContext(ctx context.Context) MaintenanceWindowTaskOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MaintenanceWindowTaskOutput)
}

type MaintenanceWindowTaskOutput struct{ *pulumi.OutputState }

func (MaintenanceWindowTaskOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**MaintenanceWindowTask)(nil)).Elem()
}

func (o MaintenanceWindowTaskOutput) ToMaintenanceWindowTaskOutput() MaintenanceWindowTaskOutput {
	return o
}

func (o MaintenanceWindowTaskOutput) ToMaintenanceWindowTaskOutputWithContext(ctx context.Context) MaintenanceWindowTaskOutput {
	return o
}

// The specification for whether tasks should continue to run after the cutoff time specified in the maintenance windows is reached.
func (o MaintenanceWindowTaskOutput) CutoffBehavior() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.CutoffBehavior }).(pulumi.StringPtrOutput)
}

// A description of the task.
func (o MaintenanceWindowTaskOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Information about an Amazon S3 bucket to write Run Command task-level logs to.
func (o MaintenanceWindowTaskOutput) LoggingInfo() MaintenanceWindowTaskLoggingInfoPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) MaintenanceWindowTaskLoggingInfoPtrOutput { return v.LoggingInfo }).(MaintenanceWindowTaskLoggingInfoPtrOutput)
}

// The maximum number of targets this task can be run for, in parallel.
func (o MaintenanceWindowTaskOutput) MaxConcurrency() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.MaxConcurrency }).(pulumi.StringPtrOutput)
}

// The maximum number of errors allowed before this task stops being scheduled.
func (o MaintenanceWindowTaskOutput) MaxErrors() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.MaxErrors }).(pulumi.StringPtrOutput)
}

// The task name.
func (o MaintenanceWindowTaskOutput) Name() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.Name }).(pulumi.StringPtrOutput)
}

// The priority of the task in the maintenance window. The lower the number, the higher the priority. Tasks that have the same priority are scheduled in parallel.
func (o MaintenanceWindowTaskOutput) Priority() pulumi.IntOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.IntOutput { return v.Priority }).(pulumi.IntOutput)
}

// The Amazon Resource Name (ARN) of the IAM service role for AWS Systems Manager to assume when running a maintenance window task.
func (o MaintenanceWindowTaskOutput) ServiceRoleArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringPtrOutput { return v.ServiceRoleArn }).(pulumi.StringPtrOutput)
}

// The targets (either instances or window target ids).
func (o MaintenanceWindowTaskOutput) Targets() MaintenanceWindowTaskTargetArrayOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) MaintenanceWindowTaskTargetArrayOutput { return v.Targets }).(MaintenanceWindowTaskTargetArrayOutput)
}

// The resource that the task uses during execution.
func (o MaintenanceWindowTaskOutput) TaskArn() pulumi.StringOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringOutput { return v.TaskArn }).(pulumi.StringOutput)
}

// The parameters to pass to the task when it runs. Populate only the fields that match the task type. All other fields should be empty.
func (o MaintenanceWindowTaskOutput) TaskInvocationParameters() MaintenanceWindowTaskTaskInvocationParametersPtrOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) MaintenanceWindowTaskTaskInvocationParametersPtrOutput {
		return v.TaskInvocationParameters
	}).(MaintenanceWindowTaskTaskInvocationParametersPtrOutput)
}

// The parameters to pass to the task when it runs.
//
// Search the [CloudFormation User Guide](https://docs.aws.amazon.com/cloudformation/) for `AWS::SSM::MaintenanceWindowTask` for more information about the expected schema for this property.
func (o MaintenanceWindowTaskOutput) TaskParameters() pulumi.AnyOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.AnyOutput { return v.TaskParameters }).(pulumi.AnyOutput)
}

// The type of task.
func (o MaintenanceWindowTaskOutput) TaskType() pulumi.StringOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringOutput { return v.TaskType }).(pulumi.StringOutput)
}

// The ID of the maintenance window where the task is registered.
func (o MaintenanceWindowTaskOutput) WindowId() pulumi.StringOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringOutput { return v.WindowId }).(pulumi.StringOutput)
}

// Unique identifier of the maintenance window task.
func (o MaintenanceWindowTaskOutput) WindowTaskId() pulumi.StringOutput {
	return o.ApplyT(func(v *MaintenanceWindowTask) pulumi.StringOutput { return v.WindowTaskId }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*MaintenanceWindowTaskInput)(nil)).Elem(), &MaintenanceWindowTask{})
	pulumi.RegisterOutputType(MaintenanceWindowTaskOutput{})
}
