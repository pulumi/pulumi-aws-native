// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package paymentcryptography

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aws-native/sdk/go/aws"
	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Definition of AWS::PaymentCryptography::Key Resource Type
type Key struct {
	pulumi.CustomResourceState

	// The cryptographic usage of an ECDH derived key as deﬁned in section A.5.2 of the TR-31 spec.
	DeriveKeyUsage KeyDeriveKeyUsagePtrOutput `pulumi:"deriveKeyUsage"`
	// Specifies whether the key is enabled.
	Enabled pulumi.BoolPtrOutput `pulumi:"enabled"`
	// Specifies whether the key is exportable. This data is immutable after the key is created.
	Exportable pulumi.BoolOutput `pulumi:"exportable"`
	// The role of the key, the algorithm it supports, and the cryptographic operations allowed with the key. This data is immutable after the key is created.
	KeyAttributes KeyAttributesOutput `pulumi:"keyAttributes"`
	// The algorithm that AWS Payment Cryptography uses to calculate the key check value (KCV). It is used to validate the key integrity.
	//
	// For TDES keys, the KCV is computed by encrypting 8 bytes, each with value of zero, with the key to be checked and retaining the 3 highest order bytes of the encrypted result. For AES keys, the KCV is computed using a CMAC algorithm where the input data is 16 bytes of zero and retaining the 3 highest order bytes of the encrypted result.
	KeyCheckValueAlgorithm KeyCheckValueAlgorithmPtrOutput `pulumi:"keyCheckValueAlgorithm"`
	KeyIdentifier          pulumi.StringOutput             `pulumi:"keyIdentifier"`
	// The source of the key material. For keys created within AWS Payment Cryptography, the value is `AWS_PAYMENT_CRYPTOGRAPHY` . For keys imported into AWS Payment Cryptography, the value is `EXTERNAL` .
	KeyOrigin KeyOriginOutput `pulumi:"keyOrigin"`
	// The state of key that is being created or deleted.
	KeyState KeyStateEnumOutput `pulumi:"keyState"`
	// The list of AWS Regions to remove from the key's replication configuration.
	//
	// The key will no longer be available for cryptographic operations in these regions after removal. Ensure no active operations depend on the key in these regions before removal.
	ReplicationRegions pulumi.StringArrayOutput          `pulumi:"replicationRegions"`
	ReplicationStatus  KeyReplicationStatusTypeMapOutput `pulumi:"replicationStatus"`
	Tags               aws.TagArrayOutput                `pulumi:"tags"`
}

// NewKey registers a new resource with the given unique name, arguments, and options.
func NewKey(ctx *pulumi.Context,
	name string, args *KeyArgs, opts ...pulumi.ResourceOption) (*Key, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Exportable == nil {
		return nil, errors.New("invalid value for required argument 'Exportable'")
	}
	if args.KeyAttributes == nil {
		return nil, errors.New("invalid value for required argument 'KeyAttributes'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Key
	err := ctx.RegisterResource("aws-native:paymentcryptography:Key", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetKey gets an existing Key resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetKey(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *KeyState, opts ...pulumi.ResourceOption) (*Key, error) {
	var resource Key
	err := ctx.ReadResource("aws-native:paymentcryptography:Key", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Key resources.
type keyState struct {
}

type KeyState struct {
}

func (KeyState) ElementType() reflect.Type {
	return reflect.TypeOf((*keyState)(nil)).Elem()
}

type keyArgs struct {
	// The cryptographic usage of an ECDH derived key as deﬁned in section A.5.2 of the TR-31 spec.
	DeriveKeyUsage *KeyDeriveKeyUsage `pulumi:"deriveKeyUsage"`
	// Specifies whether the key is enabled.
	Enabled *bool `pulumi:"enabled"`
	// Specifies whether the key is exportable. This data is immutable after the key is created.
	Exportable bool `pulumi:"exportable"`
	// The role of the key, the algorithm it supports, and the cryptographic operations allowed with the key. This data is immutable after the key is created.
	KeyAttributes KeyAttributes `pulumi:"keyAttributes"`
	// The algorithm that AWS Payment Cryptography uses to calculate the key check value (KCV). It is used to validate the key integrity.
	//
	// For TDES keys, the KCV is computed by encrypting 8 bytes, each with value of zero, with the key to be checked and retaining the 3 highest order bytes of the encrypted result. For AES keys, the KCV is computed using a CMAC algorithm where the input data is 16 bytes of zero and retaining the 3 highest order bytes of the encrypted result.
	KeyCheckValueAlgorithm *KeyCheckValueAlgorithm `pulumi:"keyCheckValueAlgorithm"`
	// The list of AWS Regions to remove from the key's replication configuration.
	//
	// The key will no longer be available for cryptographic operations in these regions after removal. Ensure no active operations depend on the key in these regions before removal.
	ReplicationRegions []string  `pulumi:"replicationRegions"`
	Tags               []aws.Tag `pulumi:"tags"`
}

// The set of arguments for constructing a Key resource.
type KeyArgs struct {
	// The cryptographic usage of an ECDH derived key as deﬁned in section A.5.2 of the TR-31 spec.
	DeriveKeyUsage KeyDeriveKeyUsagePtrInput
	// Specifies whether the key is enabled.
	Enabled pulumi.BoolPtrInput
	// Specifies whether the key is exportable. This data is immutable after the key is created.
	Exportable pulumi.BoolInput
	// The role of the key, the algorithm it supports, and the cryptographic operations allowed with the key. This data is immutable after the key is created.
	KeyAttributes KeyAttributesInput
	// The algorithm that AWS Payment Cryptography uses to calculate the key check value (KCV). It is used to validate the key integrity.
	//
	// For TDES keys, the KCV is computed by encrypting 8 bytes, each with value of zero, with the key to be checked and retaining the 3 highest order bytes of the encrypted result. For AES keys, the KCV is computed using a CMAC algorithm where the input data is 16 bytes of zero and retaining the 3 highest order bytes of the encrypted result.
	KeyCheckValueAlgorithm KeyCheckValueAlgorithmPtrInput
	// The list of AWS Regions to remove from the key's replication configuration.
	//
	// The key will no longer be available for cryptographic operations in these regions after removal. Ensure no active operations depend on the key in these regions before removal.
	ReplicationRegions pulumi.StringArrayInput
	Tags               aws.TagArrayInput
}

func (KeyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*keyArgs)(nil)).Elem()
}

type KeyInput interface {
	pulumi.Input

	ToKeyOutput() KeyOutput
	ToKeyOutputWithContext(ctx context.Context) KeyOutput
}

func (*Key) ElementType() reflect.Type {
	return reflect.TypeOf((**Key)(nil)).Elem()
}

func (i *Key) ToKeyOutput() KeyOutput {
	return i.ToKeyOutputWithContext(context.Background())
}

func (i *Key) ToKeyOutputWithContext(ctx context.Context) KeyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(KeyOutput)
}

type KeyOutput struct{ *pulumi.OutputState }

func (KeyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Key)(nil)).Elem()
}

func (o KeyOutput) ToKeyOutput() KeyOutput {
	return o
}

func (o KeyOutput) ToKeyOutputWithContext(ctx context.Context) KeyOutput {
	return o
}

// The cryptographic usage of an ECDH derived key as deﬁned in section A.5.2 of the TR-31 spec.
func (o KeyOutput) DeriveKeyUsage() KeyDeriveKeyUsagePtrOutput {
	return o.ApplyT(func(v *Key) KeyDeriveKeyUsagePtrOutput { return v.DeriveKeyUsage }).(KeyDeriveKeyUsagePtrOutput)
}

// Specifies whether the key is enabled.
func (o KeyOutput) Enabled() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Key) pulumi.BoolPtrOutput { return v.Enabled }).(pulumi.BoolPtrOutput)
}

// Specifies whether the key is exportable. This data is immutable after the key is created.
func (o KeyOutput) Exportable() pulumi.BoolOutput {
	return o.ApplyT(func(v *Key) pulumi.BoolOutput { return v.Exportable }).(pulumi.BoolOutput)
}

// The role of the key, the algorithm it supports, and the cryptographic operations allowed with the key. This data is immutable after the key is created.
func (o KeyOutput) KeyAttributes() KeyAttributesOutput {
	return o.ApplyT(func(v *Key) KeyAttributesOutput { return v.KeyAttributes }).(KeyAttributesOutput)
}

// The algorithm that AWS Payment Cryptography uses to calculate the key check value (KCV). It is used to validate the key integrity.
//
// For TDES keys, the KCV is computed by encrypting 8 bytes, each with value of zero, with the key to be checked and retaining the 3 highest order bytes of the encrypted result. For AES keys, the KCV is computed using a CMAC algorithm where the input data is 16 bytes of zero and retaining the 3 highest order bytes of the encrypted result.
func (o KeyOutput) KeyCheckValueAlgorithm() KeyCheckValueAlgorithmPtrOutput {
	return o.ApplyT(func(v *Key) KeyCheckValueAlgorithmPtrOutput { return v.KeyCheckValueAlgorithm }).(KeyCheckValueAlgorithmPtrOutput)
}

func (o KeyOutput) KeyIdentifier() pulumi.StringOutput {
	return o.ApplyT(func(v *Key) pulumi.StringOutput { return v.KeyIdentifier }).(pulumi.StringOutput)
}

// The source of the key material. For keys created within AWS Payment Cryptography, the value is `AWS_PAYMENT_CRYPTOGRAPHY` . For keys imported into AWS Payment Cryptography, the value is `EXTERNAL` .
func (o KeyOutput) KeyOrigin() KeyOriginOutput {
	return o.ApplyT(func(v *Key) KeyOriginOutput { return v.KeyOrigin }).(KeyOriginOutput)
}

// The state of key that is being created or deleted.
func (o KeyOutput) KeyState() KeyStateEnumOutput {
	return o.ApplyT(func(v *Key) KeyStateEnumOutput { return v.KeyState }).(KeyStateEnumOutput)
}

// The list of AWS Regions to remove from the key's replication configuration.
//
// The key will no longer be available for cryptographic operations in these regions after removal. Ensure no active operations depend on the key in these regions before removal.
func (o KeyOutput) ReplicationRegions() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Key) pulumi.StringArrayOutput { return v.ReplicationRegions }).(pulumi.StringArrayOutput)
}

func (o KeyOutput) ReplicationStatus() KeyReplicationStatusTypeMapOutput {
	return o.ApplyT(func(v *Key) KeyReplicationStatusTypeMapOutput { return v.ReplicationStatus }).(KeyReplicationStatusTypeMapOutput)
}

func (o KeyOutput) Tags() aws.TagArrayOutput {
	return o.ApplyT(func(v *Key) aws.TagArrayOutput { return v.Tags }).(aws.TagArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*KeyInput)(nil)).Elem(), &Key{})
	pulumi.RegisterOutputType(KeyOutput{})
}
