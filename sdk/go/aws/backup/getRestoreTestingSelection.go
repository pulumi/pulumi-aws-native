// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package backup

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource Type definition for AWS::Backup::RestoreTestingSelection
func LookupRestoreTestingSelection(ctx *pulumi.Context, args *LookupRestoreTestingSelectionArgs, opts ...pulumi.InvokeOption) (*LookupRestoreTestingSelectionResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupRestoreTestingSelectionResult
	err := ctx.Invoke("aws-native:backup:getRestoreTestingSelection", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

type LookupRestoreTestingSelectionArgs struct {
	// Unique string that is the name of the restore testing plan.
	//
	// The name cannot be changed after creation. The name must consist of only alphanumeric characters and underscores. Maximum length is 50.
	RestoreTestingPlanName string `pulumi:"restoreTestingPlanName"`
	// The unique name of the restore testing selection that belongs to the related restore testing plan.
	RestoreTestingSelectionName string `pulumi:"restoreTestingSelectionName"`
}

type LookupRestoreTestingSelectionResult struct {
	// The Amazon Resource Name (ARN) of the IAM role that AWS Backup uses to create the target resource; for example: `arn:aws:iam::123456789012:role/S3Access` .
	IamRoleArn *string `pulumi:"iamRoleArn"`
	// You can include specific ARNs, such as `ProtectedResourceArns: ["arn:aws:...", "arn:aws:..."]` or you can include a wildcard: `ProtectedResourceArns: ["*"]` , but not both.
	ProtectedResourceArns []string `pulumi:"protectedResourceArns"`
	// The conditions that you define for resources in your restore testing plan using tags.
	//
	// For example, `"StringEquals": { "Key": "aws:ResourceTag/CreatedByCryo", "Value": "true" },` . Condition operators are case sensitive.
	ProtectedResourceConditions *RestoreTestingSelectionProtectedResourceConditions `pulumi:"protectedResourceConditions"`
	// You can override certain restore metadata keys by including the parameter `RestoreMetadataOverrides` in the body of `RestoreTestingSelection` . Key values are not case sensitive.
	//
	// See the complete list of [restore testing inferred metadata](https://docs.aws.amazon.com/aws-backup/latest/devguide/restore-testing-inferred-metadata.html) .
	RestoreMetadataOverrides map[string]string `pulumi:"restoreMetadataOverrides"`
	// This is amount of hours (1 to 168) available to run a validation script on the data. The data will be deleted upon the completion of the validation script or the end of the specified retention period, whichever comes first.
	ValidationWindowHours *int `pulumi:"validationWindowHours"`
}

func LookupRestoreTestingSelectionOutput(ctx *pulumi.Context, args LookupRestoreTestingSelectionOutputArgs, opts ...pulumi.InvokeOption) LookupRestoreTestingSelectionResultOutput {
	return pulumi.ToOutputWithContext(context.Background(), args).
		ApplyT(func(v interface{}) (LookupRestoreTestingSelectionResult, error) {
			args := v.(LookupRestoreTestingSelectionArgs)
			r, err := LookupRestoreTestingSelection(ctx, &args, opts...)
			var s LookupRestoreTestingSelectionResult
			if r != nil {
				s = *r
			}
			return s, err
		}).(LookupRestoreTestingSelectionResultOutput)
}

type LookupRestoreTestingSelectionOutputArgs struct {
	// Unique string that is the name of the restore testing plan.
	//
	// The name cannot be changed after creation. The name must consist of only alphanumeric characters and underscores. Maximum length is 50.
	RestoreTestingPlanName pulumi.StringInput `pulumi:"restoreTestingPlanName"`
	// The unique name of the restore testing selection that belongs to the related restore testing plan.
	RestoreTestingSelectionName pulumi.StringInput `pulumi:"restoreTestingSelectionName"`
}

func (LookupRestoreTestingSelectionOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupRestoreTestingSelectionArgs)(nil)).Elem()
}

type LookupRestoreTestingSelectionResultOutput struct{ *pulumi.OutputState }

func (LookupRestoreTestingSelectionResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupRestoreTestingSelectionResult)(nil)).Elem()
}

func (o LookupRestoreTestingSelectionResultOutput) ToLookupRestoreTestingSelectionResultOutput() LookupRestoreTestingSelectionResultOutput {
	return o
}

func (o LookupRestoreTestingSelectionResultOutput) ToLookupRestoreTestingSelectionResultOutputWithContext(ctx context.Context) LookupRestoreTestingSelectionResultOutput {
	return o
}

// The Amazon Resource Name (ARN) of the IAM role that AWS Backup uses to create the target resource; for example: `arn:aws:iam::123456789012:role/S3Access` .
func (o LookupRestoreTestingSelectionResultOutput) IamRoleArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v LookupRestoreTestingSelectionResult) *string { return v.IamRoleArn }).(pulumi.StringPtrOutput)
}

// You can include specific ARNs, such as `ProtectedResourceArns: ["arn:aws:...", "arn:aws:..."]` or you can include a wildcard: `ProtectedResourceArns: ["*"]` , but not both.
func (o LookupRestoreTestingSelectionResultOutput) ProtectedResourceArns() pulumi.StringArrayOutput {
	return o.ApplyT(func(v LookupRestoreTestingSelectionResult) []string { return v.ProtectedResourceArns }).(pulumi.StringArrayOutput)
}

// The conditions that you define for resources in your restore testing plan using tags.
//
// For example, `"StringEquals": { "Key": "aws:ResourceTag/CreatedByCryo", "Value": "true" },` . Condition operators are case sensitive.
func (o LookupRestoreTestingSelectionResultOutput) ProtectedResourceConditions() RestoreTestingSelectionProtectedResourceConditionsPtrOutput {
	return o.ApplyT(func(v LookupRestoreTestingSelectionResult) *RestoreTestingSelectionProtectedResourceConditions {
		return v.ProtectedResourceConditions
	}).(RestoreTestingSelectionProtectedResourceConditionsPtrOutput)
}

// You can override certain restore metadata keys by including the parameter `RestoreMetadataOverrides` in the body of `RestoreTestingSelection` . Key values are not case sensitive.
//
// See the complete list of [restore testing inferred metadata](https://docs.aws.amazon.com/aws-backup/latest/devguide/restore-testing-inferred-metadata.html) .
func (o LookupRestoreTestingSelectionResultOutput) RestoreMetadataOverrides() pulumi.StringMapOutput {
	return o.ApplyT(func(v LookupRestoreTestingSelectionResult) map[string]string { return v.RestoreMetadataOverrides }).(pulumi.StringMapOutput)
}

// This is amount of hours (1 to 168) available to run a validation script on the data. The data will be deleted upon the completion of the validation script or the end of the specified retention period, whichever comes first.
func (o LookupRestoreTestingSelectionResultOutput) ValidationWindowHours() pulumi.IntPtrOutput {
	return o.ApplyT(func(v LookupRestoreTestingSelectionResult) *int { return v.ValidationWindowHours }).(pulumi.IntPtrOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupRestoreTestingSelectionResultOutput{})
}
