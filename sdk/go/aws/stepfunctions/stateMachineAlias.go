// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package stepfunctions

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-aws-native/sdk/go/aws/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource schema for StateMachineAlias
type StateMachineAlias struct {
	pulumi.CustomResourceState

	// The ARN of the alias.
	Arn pulumi.StringOutput `pulumi:"arn"`
	// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
	//
	// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	//
	// Based on the type of deployment you want to perform, you can specify one of the following settings:
	//
	// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
	//
	// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
	// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
	// - `CANARY` - Shifts traffic in two increments.
	//
	// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
	DeploymentPreference StateMachineAliasDeploymentPreferencePtrOutput `pulumi:"deploymentPreference"`
	// An optional description of the alias.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The alias name.
	Name pulumi.StringPtrOutput `pulumi:"name"`
	// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
	//
	// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	RoutingConfiguration StateMachineAliasRoutingConfigurationVersionArrayOutput `pulumi:"routingConfiguration"`
}

// NewStateMachineAlias registers a new resource with the given unique name, arguments, and options.
func NewStateMachineAlias(ctx *pulumi.Context,
	name string, args *StateMachineAliasArgs, opts ...pulumi.ResourceOption) (*StateMachineAlias, error) {
	if args == nil {
		args = &StateMachineAliasArgs{}
	}

	replaceOnChanges := pulumi.ReplaceOnChanges([]string{
		"name",
	})
	opts = append(opts, replaceOnChanges)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource StateMachineAlias
	err := ctx.RegisterResource("aws-native:stepfunctions:StateMachineAlias", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetStateMachineAlias gets an existing StateMachineAlias resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetStateMachineAlias(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *StateMachineAliasState, opts ...pulumi.ResourceOption) (*StateMachineAlias, error) {
	var resource StateMachineAlias
	err := ctx.ReadResource("aws-native:stepfunctions:StateMachineAlias", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering StateMachineAlias resources.
type stateMachineAliasState struct {
}

type StateMachineAliasState struct {
}

func (StateMachineAliasState) ElementType() reflect.Type {
	return reflect.TypeOf((*stateMachineAliasState)(nil)).Elem()
}

type stateMachineAliasArgs struct {
	// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
	//
	// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	//
	// Based on the type of deployment you want to perform, you can specify one of the following settings:
	//
	// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
	//
	// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
	// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
	// - `CANARY` - Shifts traffic in two increments.
	//
	// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
	DeploymentPreference *StateMachineAliasDeploymentPreference `pulumi:"deploymentPreference"`
	// An optional description of the alias.
	Description *string `pulumi:"description"`
	// The alias name.
	Name *string `pulumi:"name"`
	// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
	//
	// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	RoutingConfiguration []StateMachineAliasRoutingConfigurationVersion `pulumi:"routingConfiguration"`
}

// The set of arguments for constructing a StateMachineAlias resource.
type StateMachineAliasArgs struct {
	// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
	//
	// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	//
	// Based on the type of deployment you want to perform, you can specify one of the following settings:
	//
	// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
	//
	// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
	// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
	// - `CANARY` - Shifts traffic in two increments.
	//
	// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
	DeploymentPreference StateMachineAliasDeploymentPreferencePtrInput
	// An optional description of the alias.
	Description pulumi.StringPtrInput
	// The alias name.
	Name pulumi.StringPtrInput
	// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
	//
	// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
	//
	// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
	RoutingConfiguration StateMachineAliasRoutingConfigurationVersionArrayInput
}

func (StateMachineAliasArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*stateMachineAliasArgs)(nil)).Elem()
}

type StateMachineAliasInput interface {
	pulumi.Input

	ToStateMachineAliasOutput() StateMachineAliasOutput
	ToStateMachineAliasOutputWithContext(ctx context.Context) StateMachineAliasOutput
}

func (*StateMachineAlias) ElementType() reflect.Type {
	return reflect.TypeOf((**StateMachineAlias)(nil)).Elem()
}

func (i *StateMachineAlias) ToStateMachineAliasOutput() StateMachineAliasOutput {
	return i.ToStateMachineAliasOutputWithContext(context.Background())
}

func (i *StateMachineAlias) ToStateMachineAliasOutputWithContext(ctx context.Context) StateMachineAliasOutput {
	return pulumi.ToOutputWithContext(ctx, i).(StateMachineAliasOutput)
}

type StateMachineAliasOutput struct{ *pulumi.OutputState }

func (StateMachineAliasOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**StateMachineAlias)(nil)).Elem()
}

func (o StateMachineAliasOutput) ToStateMachineAliasOutput() StateMachineAliasOutput {
	return o
}

func (o StateMachineAliasOutput) ToStateMachineAliasOutputWithContext(ctx context.Context) StateMachineAliasOutput {
	return o
}

// The ARN of the alias.
func (o StateMachineAliasOutput) Arn() pulumi.StringOutput {
	return o.ApplyT(func(v *StateMachineAlias) pulumi.StringOutput { return v.Arn }).(pulumi.StringOutput)
}

// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
//
// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
//
// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
//
// Based on the type of deployment you want to perform, you can specify one of the following settings:
//
// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
//
// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
// - `CANARY` - Shifts traffic in two increments.
//
// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
func (o StateMachineAliasOutput) DeploymentPreference() StateMachineAliasDeploymentPreferencePtrOutput {
	return o.ApplyT(func(v *StateMachineAlias) StateMachineAliasDeploymentPreferencePtrOutput {
		return v.DeploymentPreference
	}).(StateMachineAliasDeploymentPreferencePtrOutput)
}

// An optional description of the alias.
func (o StateMachineAliasOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *StateMachineAlias) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The alias name.
func (o StateMachineAliasOutput) Name() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *StateMachineAlias) pulumi.StringPtrOutput { return v.Name }).(pulumi.StringPtrOutput)
}

// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
//
// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
//
// > `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
func (o StateMachineAliasOutput) RoutingConfiguration() StateMachineAliasRoutingConfigurationVersionArrayOutput {
	return o.ApplyT(func(v *StateMachineAlias) StateMachineAliasRoutingConfigurationVersionArrayOutput {
		return v.RoutingConfiguration
	}).(StateMachineAliasRoutingConfigurationVersionArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*StateMachineAliasInput)(nil)).Elem(), &StateMachineAlias{})
	pulumi.RegisterOutputType(StateMachineAliasOutput{})
}
