// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AwsNative.Ecs.Outputs
{

    /// <summary>
    /// Configuration for a canary deployment strategy that shifts a fixed percentage of traffic to the new service revision, waits for a specified bake time, then shifts the remaining traffic. 
    ///  The following validation applies only to Canary deployments created through CFN. CFN operations time out after 36 hours. Canary deployments can approach this limit because of their extended duration. This can cause CFN to roll back the deployment. To prevent timeout-related rollbacks, CFN rejects deployments when the calculated deployment time exceeds 33 hours based on your template configuration: 
    ///   ``BakeTimeInMinutes + CanaryBakeTimeInMinutes`` 
    ///  Additional backend processes (such as task scaling and running lifecycle hooks) can extend deployment time beyond these calculations. Even deployments under the 33-hour threshold might still time out if these processes cause the total duration to exceed 36 hours.
    /// </summary>
    [OutputType]
    public sealed class ServiceCanaryConfiguration
    {
        /// <summary>
        /// The amount of time in minutes to wait during the canary phase before shifting the remaining production traffic to the new service revision. Valid values are 0 to 1440 minutes (24 hours). The default value is 10.
        /// </summary>
        public readonly int? CanaryBakeTimeInMinutes;
        /// <summary>
        /// The percentage of production traffic to shift to the new service revision during the canary phase. Valid values are multiples of 0.1 from 0.1 to 100.0. The default value is 5.0.
        /// </summary>
        public readonly double? CanaryPercent;

        [OutputConstructor]
        private ServiceCanaryConfiguration(
            int? canaryBakeTimeInMinutes,

            double? canaryPercent)
        {
            CanaryBakeTimeInMinutes = canaryBakeTimeInMinutes;
            CanaryPercent = canaryPercent;
        }
    }
}
