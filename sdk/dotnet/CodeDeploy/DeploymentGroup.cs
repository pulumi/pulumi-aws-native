// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AwsNative.CodeDeploy
{
    /// <summary>
    /// Resource type definition for AWS::CodeDeploy::DeploymentGroup
    /// </summary>
    [AwsNativeResourceType("aws-native:codedeploy:DeploymentGroup")]
    public partial class DeploymentGroup : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Information about the Amazon CloudWatch alarms that are associated with the deployment group.
        /// </summary>
        [Output("alarmConfiguration")]
        public Output<Outputs.DeploymentGroupAlarmConfiguration?> AlarmConfiguration { get; private set; } = null!;

        /// <summary>
        /// The name of an existing CodeDeploy application to associate this deployment group with.
        /// </summary>
        [Output("applicationName")]
        public Output<string> ApplicationName { get; private set; } = null!;

        /// <summary>
        /// Information about the automatic rollback configuration that is associated with the deployment group. If you specify this property, don't specify the Deployment property.
        /// </summary>
        [Output("autoRollbackConfiguration")]
        public Output<Outputs.DeploymentGroupAutoRollbackConfiguration?> AutoRollbackConfiguration { get; private set; } = null!;

        /// <summary>
        /// A list of associated Auto Scaling groups that CodeDeploy automatically deploys revisions to when new instances are created. Duplicates are not allowed.
        /// </summary>
        [Output("autoScalingGroups")]
        public Output<ImmutableArray<string>> AutoScalingGroups { get; private set; } = null!;

        /// <summary>
        /// Information about blue/green deployment options for a deployment group.
        /// </summary>
        [Output("blueGreenDeploymentConfiguration")]
        public Output<Outputs.DeploymentGroupBlueGreenDeploymentConfiguration?> BlueGreenDeploymentConfiguration { get; private set; } = null!;

        /// <summary>
        /// The application revision to deploy to this deployment group. If you specify this property, your target application revision is deployed as soon as the provisioning process is complete. If you specify this property, don't specify the AutoRollbackConfiguration property.
        /// </summary>
        [Output("deployment")]
        public Output<Outputs.DeploymentGroupDeployment?> Deployment { get; private set; } = null!;

        /// <summary>
        /// A deployment configuration name or a predefined configuration name. With predefined configurations, you can deploy application revisions to one instance at a time (CodeDeployDefault.OneAtATime), half of the instances at a time (CodeDeployDefault.HalfAtATime), or all the instances at once (CodeDeployDefault.AllAtOnce).
        /// </summary>
        [Output("deploymentConfigName")]
        public Output<string?> DeploymentConfigName { get; private set; } = null!;

        /// <summary>
        /// A name for the deployment group. If you don't specify a name, AWS CloudFormation generates a unique physical ID and uses that ID for the deployment group name.
        /// </summary>
        [Output("deploymentGroupName")]
        public Output<string?> DeploymentGroupName { get; private set; } = null!;

        /// <summary>
        /// Attributes that determine the type of deployment to run and whether to route deployment traffic behind a load balancer. If you specify this property with a blue/green deployment type, don't specify the AutoScalingGroups, LoadBalancerInfo, or Deployment properties.
        /// </summary>
        [Output("deploymentStyle")]
        public Output<Outputs.DeploymentGroupDeploymentStyle?> DeploymentStyle { get; private set; } = null!;

        /// <summary>
        /// The Amazon EC2 tags that are already applied to Amazon EC2 instances that you want to include in the deployment group. CodeDeploy includes all Amazon EC2 instances identified by any of the tags you specify in this deployment group. Duplicates are not allowed. You can specify EC2TagFilters or Ec2TagSet, but not both.
        /// </summary>
        [Output("ec2TagFilters")]
        public Output<ImmutableArray<Outputs.DeploymentGroupEc2TagFilter>> Ec2TagFilters { get; private set; } = null!;

        /// <summary>
        /// Information about groups of tags applied to Amazon EC2 instances. Use when the deployment group includes only Amazon EC2 instances identified by all the tag groups. Cannot be used in the same call as ec2TagFilter.
        /// </summary>
        [Output("ec2TagSet")]
        public Output<Outputs.DeploymentGroupEc2TagSet?> Ec2TagSet { get; private set; } = null!;

        /// <summary>
        /// The target Amazon ECS services in the deployment group. This applies only to deployment groups that use the Amazon ECS compute platform. A target Amazon ECS service is specified as an Amazon ECS cluster and service name pair using the format &lt;clustername&gt;:&lt;servicename&gt;.
        /// </summary>
        [Output("ecsServices")]
        public Output<ImmutableArray<Outputs.DeploymentGroupEcsService>> EcsServices { get; private set; } = null!;

        /// <summary>
        /// Information about the load balancer to use in a deployment.
        /// </summary>
        [Output("loadBalancerInfo")]
        public Output<Outputs.DeploymentGroupLoadBalancerInfo?> LoadBalancerInfo { get; private set; } = null!;

        /// <summary>
        /// The on-premises instance tags already applied to on-premises instances that you want to include in the deployment group. CodeDeploy includes all on-premises instances identified by any of the tags you specify in this deployment group. Duplicates are not allowed. You can specify OnPremisesInstanceTagFilters or OnPremisesInstanceTagSet, but not both.
        /// </summary>
        [Output("onPremisesInstanceTagFilters")]
        public Output<ImmutableArray<Outputs.DeploymentGroupTagFilter>> OnPremisesInstanceTagFilters { get; private set; } = null!;

        /// <summary>
        /// Information about groups of tags applied to on-premises instances. The deployment group includes only on-premises instances identified by all the tag groups. You can specify OnPremisesInstanceTagFilters or OnPremisesInstanceTagSet, but not both.
        /// </summary>
        [Output("onPremisesTagSet")]
        public Output<Outputs.DeploymentGroupOnPremisesTagSet?> OnPremisesTagSet { get; private set; } = null!;

        /// <summary>
        /// Indicates what happens when new Amazon EC2 instances are launched mid-deployment and do not receive the deployed application revision. If this option is set to UPDATE or is unspecified, CodeDeploy initiates one or more 'auto-update outdated instances' deployments to apply the deployed application revision to the new Amazon EC2 instances. If this option is set to IGNORE, CodeDeploy does not initiate a deployment to update the new Amazon EC2 instances. This may result in instances having different revisions.
        /// </summary>
        [Output("outdatedInstancesStrategy")]
        public Output<string?> OutdatedInstancesStrategy { get; private set; } = null!;

        /// <summary>
        /// A service role Amazon Resource Name (ARN) that grants CodeDeploy permission to make calls to AWS services on your behalf. For more information, see 'Create a Service Role for AWS CodeDeploy' in the AWS CodeDeploy User Guide.
        /// </summary>
        [Output("serviceRoleArn")]
        public Output<string> ServiceRoleArn { get; private set; } = null!;

        /// <summary>
        /// The metadata that you apply to CodeDeploy deployment groups to help you organize and categorize them. Each tag consists of a key and an optional value, both of which you define.
        /// </summary>
        [Output("tags")]
        public Output<ImmutableArray<Pulumi.AwsNative.Outputs.Tag>> Tags { get; private set; } = null!;

        /// <summary>
        /// Indicates whether the deployment group was configured to have CodeDeploy install a termination hook into an Auto Scaling group.
        /// </summary>
        [Output("terminationHookEnabled")]
        public Output<bool?> TerminationHookEnabled { get; private set; } = null!;

        /// <summary>
        /// Information about triggers associated with the deployment group. Duplicates are not allowed.
        /// </summary>
        [Output("triggerConfigurations")]
        public Output<ImmutableArray<Outputs.DeploymentGroupTriggerConfig>> TriggerConfigurations { get; private set; } = null!;


        /// <summary>
        /// Create a DeploymentGroup resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public DeploymentGroup(string name, DeploymentGroupArgs args, CustomResourceOptions? options = null)
            : base("aws-native:codedeploy:DeploymentGroup", name, args ?? new DeploymentGroupArgs(), MakeResourceOptions(options, ""))
        {
        }

        private DeploymentGroup(string name, Input<string> id, CustomResourceOptions? options = null)
            : base("aws-native:codedeploy:DeploymentGroup", name, null, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                ReplaceOnChanges =
                {
                    "applicationName",
                    "deploymentGroupName",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing DeploymentGroup resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static DeploymentGroup Get(string name, Input<string> id, CustomResourceOptions? options = null)
        {
            return new DeploymentGroup(name, id, options);
        }
    }

    public sealed class DeploymentGroupArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Information about the Amazon CloudWatch alarms that are associated with the deployment group.
        /// </summary>
        [Input("alarmConfiguration")]
        public Input<Inputs.DeploymentGroupAlarmConfigurationArgs>? AlarmConfiguration { get; set; }

        /// <summary>
        /// The name of an existing CodeDeploy application to associate this deployment group with.
        /// </summary>
        [Input("applicationName", required: true)]
        public Input<string> ApplicationName { get; set; } = null!;

        /// <summary>
        /// Information about the automatic rollback configuration that is associated with the deployment group. If you specify this property, don't specify the Deployment property.
        /// </summary>
        [Input("autoRollbackConfiguration")]
        public Input<Inputs.DeploymentGroupAutoRollbackConfigurationArgs>? AutoRollbackConfiguration { get; set; }

        [Input("autoScalingGroups")]
        private InputList<string>? _autoScalingGroups;

        /// <summary>
        /// A list of associated Auto Scaling groups that CodeDeploy automatically deploys revisions to when new instances are created. Duplicates are not allowed.
        /// </summary>
        public InputList<string> AutoScalingGroups
        {
            get => _autoScalingGroups ?? (_autoScalingGroups = new InputList<string>());
            set => _autoScalingGroups = value;
        }

        /// <summary>
        /// Information about blue/green deployment options for a deployment group.
        /// </summary>
        [Input("blueGreenDeploymentConfiguration")]
        public Input<Inputs.DeploymentGroupBlueGreenDeploymentConfigurationArgs>? BlueGreenDeploymentConfiguration { get; set; }

        /// <summary>
        /// The application revision to deploy to this deployment group. If you specify this property, your target application revision is deployed as soon as the provisioning process is complete. If you specify this property, don't specify the AutoRollbackConfiguration property.
        /// </summary>
        [Input("deployment")]
        public Input<Inputs.DeploymentGroupDeploymentArgs>? Deployment { get; set; }

        /// <summary>
        /// A deployment configuration name or a predefined configuration name. With predefined configurations, you can deploy application revisions to one instance at a time (CodeDeployDefault.OneAtATime), half of the instances at a time (CodeDeployDefault.HalfAtATime), or all the instances at once (CodeDeployDefault.AllAtOnce).
        /// </summary>
        [Input("deploymentConfigName")]
        public Input<string>? DeploymentConfigName { get; set; }

        /// <summary>
        /// A name for the deployment group. If you don't specify a name, AWS CloudFormation generates a unique physical ID and uses that ID for the deployment group name.
        /// </summary>
        [Input("deploymentGroupName")]
        public Input<string>? DeploymentGroupName { get; set; }

        /// <summary>
        /// Attributes that determine the type of deployment to run and whether to route deployment traffic behind a load balancer. If you specify this property with a blue/green deployment type, don't specify the AutoScalingGroups, LoadBalancerInfo, or Deployment properties.
        /// </summary>
        [Input("deploymentStyle")]
        public Input<Inputs.DeploymentGroupDeploymentStyleArgs>? DeploymentStyle { get; set; }

        [Input("ec2TagFilters")]
        private InputList<Inputs.DeploymentGroupEc2TagFilterArgs>? _ec2TagFilters;

        /// <summary>
        /// The Amazon EC2 tags that are already applied to Amazon EC2 instances that you want to include in the deployment group. CodeDeploy includes all Amazon EC2 instances identified by any of the tags you specify in this deployment group. Duplicates are not allowed. You can specify EC2TagFilters or Ec2TagSet, but not both.
        /// </summary>
        public InputList<Inputs.DeploymentGroupEc2TagFilterArgs> Ec2TagFilters
        {
            get => _ec2TagFilters ?? (_ec2TagFilters = new InputList<Inputs.DeploymentGroupEc2TagFilterArgs>());
            set => _ec2TagFilters = value;
        }

        /// <summary>
        /// Information about groups of tags applied to Amazon EC2 instances. Use when the deployment group includes only Amazon EC2 instances identified by all the tag groups. Cannot be used in the same call as ec2TagFilter.
        /// </summary>
        [Input("ec2TagSet")]
        public Input<Inputs.DeploymentGroupEc2TagSetArgs>? Ec2TagSet { get; set; }

        [Input("ecsServices")]
        private InputList<Inputs.DeploymentGroupEcsServiceArgs>? _ecsServices;

        /// <summary>
        /// The target Amazon ECS services in the deployment group. This applies only to deployment groups that use the Amazon ECS compute platform. A target Amazon ECS service is specified as an Amazon ECS cluster and service name pair using the format &lt;clustername&gt;:&lt;servicename&gt;.
        /// </summary>
        public InputList<Inputs.DeploymentGroupEcsServiceArgs> EcsServices
        {
            get => _ecsServices ?? (_ecsServices = new InputList<Inputs.DeploymentGroupEcsServiceArgs>());
            set => _ecsServices = value;
        }

        /// <summary>
        /// Information about the load balancer to use in a deployment.
        /// </summary>
        [Input("loadBalancerInfo")]
        public Input<Inputs.DeploymentGroupLoadBalancerInfoArgs>? LoadBalancerInfo { get; set; }

        [Input("onPremisesInstanceTagFilters")]
        private InputList<Inputs.DeploymentGroupTagFilterArgs>? _onPremisesInstanceTagFilters;

        /// <summary>
        /// The on-premises instance tags already applied to on-premises instances that you want to include in the deployment group. CodeDeploy includes all on-premises instances identified by any of the tags you specify in this deployment group. Duplicates are not allowed. You can specify OnPremisesInstanceTagFilters or OnPremisesInstanceTagSet, but not both.
        /// </summary>
        public InputList<Inputs.DeploymentGroupTagFilterArgs> OnPremisesInstanceTagFilters
        {
            get => _onPremisesInstanceTagFilters ?? (_onPremisesInstanceTagFilters = new InputList<Inputs.DeploymentGroupTagFilterArgs>());
            set => _onPremisesInstanceTagFilters = value;
        }

        /// <summary>
        /// Information about groups of tags applied to on-premises instances. The deployment group includes only on-premises instances identified by all the tag groups. You can specify OnPremisesInstanceTagFilters or OnPremisesInstanceTagSet, but not both.
        /// </summary>
        [Input("onPremisesTagSet")]
        public Input<Inputs.DeploymentGroupOnPremisesTagSetArgs>? OnPremisesTagSet { get; set; }

        /// <summary>
        /// Indicates what happens when new Amazon EC2 instances are launched mid-deployment and do not receive the deployed application revision. If this option is set to UPDATE or is unspecified, CodeDeploy initiates one or more 'auto-update outdated instances' deployments to apply the deployed application revision to the new Amazon EC2 instances. If this option is set to IGNORE, CodeDeploy does not initiate a deployment to update the new Amazon EC2 instances. This may result in instances having different revisions.
        /// </summary>
        [Input("outdatedInstancesStrategy")]
        public Input<string>? OutdatedInstancesStrategy { get; set; }

        /// <summary>
        /// A service role Amazon Resource Name (ARN) that grants CodeDeploy permission to make calls to AWS services on your behalf. For more information, see 'Create a Service Role for AWS CodeDeploy' in the AWS CodeDeploy User Guide.
        /// </summary>
        [Input("serviceRoleArn", required: true)]
        public Input<string> ServiceRoleArn { get; set; } = null!;

        [Input("tags")]
        private InputList<Pulumi.AwsNative.Inputs.TagArgs>? _tags;

        /// <summary>
        /// The metadata that you apply to CodeDeploy deployment groups to help you organize and categorize them. Each tag consists of a key and an optional value, both of which you define.
        /// </summary>
        public InputList<Pulumi.AwsNative.Inputs.TagArgs> Tags
        {
            get => _tags ?? (_tags = new InputList<Pulumi.AwsNative.Inputs.TagArgs>());
            set => _tags = value;
        }

        /// <summary>
        /// Indicates whether the deployment group was configured to have CodeDeploy install a termination hook into an Auto Scaling group.
        /// </summary>
        [Input("terminationHookEnabled")]
        public Input<bool>? TerminationHookEnabled { get; set; }

        [Input("triggerConfigurations")]
        private InputList<Inputs.DeploymentGroupTriggerConfigArgs>? _triggerConfigurations;

        /// <summary>
        /// Information about triggers associated with the deployment group. Duplicates are not allowed.
        /// </summary>
        public InputList<Inputs.DeploymentGroupTriggerConfigArgs> TriggerConfigurations
        {
            get => _triggerConfigurations ?? (_triggerConfigurations = new InputList<Inputs.DeploymentGroupTriggerConfigArgs>());
            set => _triggerConfigurations = value;
        }

        public DeploymentGroupArgs()
        {
        }
        public static new DeploymentGroupArgs Empty => new DeploymentGroupArgs();
    }
}
