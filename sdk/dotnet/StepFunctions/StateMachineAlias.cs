// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AwsNative.StepFunctions
{
    /// <summary>
    /// Resource schema for StateMachineAlias
    /// </summary>
    [AwsNativeResourceType("aws-native:stepfunctions:StateMachineAlias")]
    public partial class StateMachineAlias : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The ARN of the alias.
        /// </summary>
        [Output("arn")]
        public Output<string> Arn { get; private set; } = null!;

        /// <summary>
        /// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
        /// 
        /// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
        /// 
        /// &gt; `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties. 
        /// 
        /// Based on the type of deployment you want to perform, you can specify one of the following settings:
        /// 
        /// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
        /// 
        /// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
        /// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
        /// - `CANARY` - Shifts traffic in two increments.
        /// 
        /// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
        /// </summary>
        [Output("deploymentPreference")]
        public Output<Outputs.StateMachineAliasDeploymentPreference?> DeploymentPreference { get; private set; } = null!;

        /// <summary>
        /// An optional description of the alias.
        /// </summary>
        [Output("description")]
        public Output<string?> Description { get; private set; } = null!;

        /// <summary>
        /// The alias name.
        /// </summary>
        [Output("name")]
        public Output<string?> Name { get; private set; } = null!;

        /// <summary>
        /// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
        /// 
        /// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
        /// 
        /// &gt; `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
        /// </summary>
        [Output("routingConfiguration")]
        public Output<ImmutableArray<Outputs.StateMachineAliasRoutingConfigurationVersion>> RoutingConfiguration { get; private set; } = null!;


        /// <summary>
        /// Create a StateMachineAlias resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public StateMachineAlias(string name, StateMachineAliasArgs? args = null, CustomResourceOptions? options = null)
            : base("aws-native:stepfunctions:StateMachineAlias", name, args ?? new StateMachineAliasArgs(), MakeResourceOptions(options, ""))
        {
        }

        private StateMachineAlias(string name, Input<string> id, CustomResourceOptions? options = null)
            : base("aws-native:stepfunctions:StateMachineAlias", name, null, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                ReplaceOnChanges =
                {
                    "name",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing StateMachineAlias resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static StateMachineAlias Get(string name, Input<string> id, CustomResourceOptions? options = null)
        {
            return new StateMachineAlias(name, id, options);
        }
    }

    public sealed class StateMachineAliasArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The settings that enable gradual state machine deployments. These settings include [Alarms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-alarms) , [Interval](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-interval) , [Percentage](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-percentage) , [StateMachineVersionArn](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-statemachineversionarn) , and [Type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stepfunctions-statemachinealias-deploymentpreference.html#cfn-stepfunctions-statemachinealias-deploymentpreference-type) .
        /// 
        /// CloudFormation automatically shifts traffic from the version an alias currently points to, to a new state machine version that you specify.
        /// 
        /// &gt; `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties. 
        /// 
        /// Based on the type of deployment you want to perform, you can specify one of the following settings:
        /// 
        /// - `LINEAR` - Shifts traffic to the new version in equal increments with an equal number of minutes between each increment.
        /// 
        /// For example, if you specify the increment percent as `20` with an interval of `600` minutes, this deployment increases traffic by 20 percent every 600 minutes until the new version receives 100 percent of the traffic. This deployment immediately rolls back the new version if any Amazon CloudWatch alarms are triggered.
        /// - `ALL_AT_ONCE` - Shifts 100 percent of traffic to the new version immediately. CloudFormation monitors the new version and rolls it back automatically to the previous version if any CloudWatch alarms are triggered.
        /// - `CANARY` - Shifts traffic in two increments.
        /// 
        /// In the first increment, a small percentage of traffic, for example, 10 percent is shifted to the new version. In the second increment, before a specified time interval in seconds gets over, the remaining traffic is shifted to the new version. The shift to the new version for the remaining traffic takes place only if no CloudWatch alarms are triggered during the specified time interval.
        /// </summary>
        [Input("deploymentPreference")]
        public Input<Inputs.StateMachineAliasDeploymentPreferenceArgs>? DeploymentPreference { get; set; }

        /// <summary>
        /// An optional description of the alias.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// The alias name.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        [Input("routingConfiguration")]
        private InputList<Inputs.StateMachineAliasRoutingConfigurationVersionArgs>? _routingConfiguration;

        /// <summary>
        /// The routing configuration of an alias. Routing configuration splits [StartExecution](https://docs.aws.amazon.com/step-functions/latest/apireference/API_StartExecution.html) requests between one or two versions of the same state machine.
        /// 
        /// Use `RoutingConfiguration` if you want to explicitly set the alias [weights](https://docs.aws.amazon.com/step-functions/latest/apireference/API_RoutingConfigurationListItem.html#StepFunctions-Type-RoutingConfigurationListItem-weight) . Weight is the percentage of traffic you want to route to a state machine version.
        /// 
        /// &gt; `RoutingConfiguration` and `DeploymentPreference` are mutually exclusive properties. You must define only one of these properties.
        /// </summary>
        public InputList<Inputs.StateMachineAliasRoutingConfigurationVersionArgs> RoutingConfiguration
        {
            get => _routingConfiguration ?? (_routingConfiguration = new InputList<Inputs.StateMachineAliasRoutingConfigurationVersionArgs>());
            set => _routingConfiguration = value;
        }

        public StateMachineAliasArgs()
        {
        }
        public static new StateMachineAliasArgs Empty => new StateMachineAliasArgs();
    }
}
